<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HealthFirst - Hướng Dẫn Y Tế Tại Nhà</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .hero-section {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 100px 0;
        }
        .feature-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .feature-card:hover {
            transform: translateY(-5px);
        }
        .health-form {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
        }
        .btn-health {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
        }
        .btn-health:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-heartbeat me-2"></i>HealthFirst
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="/">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/symptom-diagnosis">Chuẩn đoán triệu chứng</a>
                    </li>
                    
                    <li class="nav-item">
                        <a class="nav-link" href="/guides">Hướng dẫn chăm sóc</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/library">Tài liệu y tế</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/news">Tin tức</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/support">Hỗ trợ</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    {% if user_info %}
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown">
                                <i class="fas fa-user me-1"></i>{{ user_info.display_name or user_info.email }}
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="/profile">Hồ sơ</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="/auth/logout">Đăng xuất</a></li>
                            </ul>
                        </li>
                    {% else %}
                        <li class="nav-item">
                            <a class="nav-link" href="/auth/login">Đăng nhập</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container text-center">
            <h1 class="display-4 fw-bold mb-4">
                <i class="fas fa-heartbeat me-3"></i>HealthFirst
            </h1>
            <p class="lead mb-4">Hệ thống hướng dẫn y tế tại nhà thông minh</p>
            <p class="mb-5">Đánh giá triệu chứng, nhận khuyến nghị y tế và chăm sóc sức khỏe một cách an toàn</p>
            <a href="#assessment" class="btn btn-light btn-lg btn-health">
                <i class="fas fa-stethoscope me-2"></i>Đánh giá ngay
            </a>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Tính năng chính</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-brain fa-3x text-primary mb-3"></i>
                            <h5 class="card-title">Đánh giá thông minh</h5>
                            <p class="card-text">Phân tích triệu chứng dựa trên quy tắc y tế chuẩn và AI</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-user-md fa-3x text-success mb-3"></i>
                            <h5 class="card-title">Khuyến nghị cá nhân</h5>
                            <p class="card-text">Tư vấn phù hợp với độ tuổi, giới tính và tiền sử bệnh</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card feature-card h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-shield-alt fa-3x text-warning mb-3"></i>
                            <h5 class="card-title">An toàn và tin cậy</h5>
                            <p class="card-text">Dựa trên hướng dẫn y tế quốc tế và được kiểm chứng</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

         <!-- About Section -->
     <section id="about" class="py-5 bg-light">
         <div class="container">
             <div class="row justify-content-center">
                 <div class="col-lg-10">
                     <div class="text-center mb-5">
                         <h2 class="display-5 fw-bold mb-4">
                             <i class="fas fa-heartbeat me-3 text-primary"></i>Về HealthFirst
                         </h2>
                         <p class="lead text-muted">Hệ thống hướng dẫn y tế và chăm sóc sức khỏe tại nhà thông minh</p>
                     </div>
                     
                     <div class="row g-4">
                         <div class="col-md-6">
                             <div class="card h-100 border-0 shadow-sm">
                                 <div class="card-body text-center p-4">
                                     <div class="bg-primary bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                                         <i class="fas fa-user-md fa-2x"></i>
                                     </div>
                                     <h5 class="card-title">Sứ mệnh</h5>
                                     <p class="card-text">Cung cấp thông tin y tế chính xác và hướng dẫn chăm sóc sức khỏe tại nhà, giúp mọi người có thể tự chăm sóc bản thân và gia đình một cách an toàn.</p>
                                 </div>
                             </div>
                         </div>
                         
                         <div class="col-md-6">
                             <div class="card h-100 border-0 shadow-sm">
                                 <div class="card-body text-center p-4">
                                     <div class="bg-success bg-gradient text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                                         <i class="fas fa-shield-alt fa-2x"></i>
                                     </div>
                                     <h5 class="card-title">Tầm nhìn</h5>
                                     <p class="card-text">Trở thành nền tảng y tế số hàng đầu, kết nối người dân với các dịch vụ chăm sóc sức khỏe chất lượng cao và thông tin y tế đáng tin cậy.</p>
                                 </div>
                             </div>
                         </div>
                     </div>
                     
                     <div class="row mt-5">
                         <div class="col-12">
                             <div class="card border-0 shadow-sm">
                                 <div class="card-body p-4">
                                     <h4 class="text-center mb-4">
                                         <i class="fas fa-star text-warning me-2"></i>Giá trị cốt lõi
                                     </h4>
                                     <div class="row g-3">
                                         <div class="col-md-4">
                                             <div class="d-flex align-items-center">
                                                 <i class="fas fa-check-circle text-success fa-2x me-3"></i>
                                                 <div>
                                                     <h6 class="mb-1">Chính xác</h6>
                                                     <small class="text-muted">Thông tin y tế được kiểm chứng</small>
                                                 </div>
                                             </div>
                                         </div>
                                         <div class="col-md-4">
                                             <div class="d-flex align-items-center">
                                                 <i class="fas fa-check-circle text-success fa-2x me-3"></i>
                                                 <div>
                                                     <h6 class="mb-1">An toàn</h6>
                                                     <small class="text-muted">Hướng dẫn chăm sóc an toàn</small>
                                                 </div>
                                             </div>
                                         </div>
                                         <div class="col-md-4">
                                             <div class="d-flex align-items-center">
                                                 <i class="fas fa-check-circle text-success fa-2x me-3"></i>
                                                 <div>
                                                     <h6 class="mb-1">Dễ tiếp cận</h6>
                                                     <small class="text-muted">Giao diện thân thiện, dễ sử dụng</small>
                                                 </div>
                                             </div>
                                         </div>
                                     </div>
                                 </div>
                             </div>
                         </div>
                     </div>
                     
                     <div class="text-center mt-5">
                         <a href="/symptom-diagnosis" class="btn btn-primary btn-lg btn-health">
                             <i class="fas fa-stethoscope me-2"></i>Khám phá tính năng chuẩn đoán triệu chứng
                         </a>
                     </div>
                 </div>
             </div>
         </div>
     </section>

    <!-- Footer -->
    <footer class="bg-dark text-light py-4">
        <div class="container text-center">
            <p>&copy; 2024 HealthFirst. Tất cả quyền được bảo lưu.</p>
            <p class="mb-0">
                <small>
                    <i class="fas fa-exclamation-triangle me-1"></i>
                    HealthFirst chỉ là công cụ hỗ trợ tham khảo, không thay thế chẩn đoán của bác sĩ
                </small>
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Health Assessment Form Handler
        document.getElementById('assessmentForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = new FormData(this);
            const data = {
                symptoms: formData.get('symptoms'),
                age: parseInt(formData.get('age')),
                days_sick: parseInt(formData.get('days_sick'))
            };
            
            try {
                const response = await fetch('/api/assess', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    displayAssessmentResult(result);
                } else {
                    alert('Lỗi: ' + (result.error || 'Không thể đánh giá triệu chứng'));
                }
            } catch (error) {
                alert('Lỗi kết nối: ' + error.message);
            }
        });
        
        function displayAssessmentResult(result) {
            const resultDiv = document.getElementById('assessmentResult');
            const alert = document.getElementById('resultAlert');
            const title = document.getElementById('resultTitle');
            const description = document.getElementById('resultDescription');
            const recommendations = document.getElementById('resultRecommendations');
            
            // Set alert class based on priority
            alert.className = 'alert';
            if (result.priority === 'emergency') {
                alert.classList.add('alert-danger');
            } else if (result.priority === 'high') {
                alert.classList.add('alert-warning');
            } else if (result.priority === 'consult_doctor') {
                alert.classList.add('alert-info');
            } else {
                alert.classList.add('alert-success');
            }
            
            title.textContent = result.message;
            description.textContent = result.description;
            
            // Display recommendations
            if (result.recommendations && result.recommendations.length > 0) {
                recommendations.innerHTML = '<h6>Khuyến nghị:</h6><ul>' + 
                    result.recommendations.map(rec => `<li>${rec}</li>`).join('') + '</ul>';
            } else {
                recommendations.innerHTML = '';
            }
            
            resultDiv.style.display = 'block';
            resultDiv.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>

